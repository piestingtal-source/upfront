define(["jquery","deps/mousetrap"],function($,mousetrap){prohibitVEClose=function(){window.onbeforeunload=function(){return"Du hast nicht gespeicherte Änderungen. Möchtest Du den Visual Editor wirklich verlassen?";};allowVECloseSwitch=false;};allowVEClose=function(){window.onbeforeunload=function(){return null;};allowVECloseSwitch=true;};prohibitLiveCSSClose=function(w){w.onbeforeunload=function(){return"Du hast nicht gespeicherte Änderungen. Möchtest Du den Live-CSS-Editor wirklich verlassen?";};};allowLiveCSSClose=function(w){w.onbeforeunload=function(){return null;};};disableBadKeys=function(){var disableBadKeysCallback=function(event){var element=$(event.target);if(event.which===8&&!element.is("input")&&!element.is("textarea")&&!element.hasClass("allow-backspace-key")&&!element.parents(".wysiwyg-container").length){event.preventDefault();return false;}if(event.which===9&&!element.is("input")&&!element.is("textarea")&&!element.hasClass("allow-tab-key")&&!element.parents(".wysiwyg-container").length){event.preventDefault();return false;}if(event.which==13&&!element.is("textarea")&&!element.hasClass("allow-enter-key")&&!element.parents(".wysiwyg-container").length){event.preventDefault();return false;}if(event.key=="Delete"&&!element.is("input")&&!element.is("textarea")){deleteSelectedBlock();return true;}};$(document).bind("keypress",disableBadKeysCallback);$(document).bind("keydown",disableBadKeysCallback);$i("html").bind("keypress",disableBadKeysCallback);$i("html").bind("keydown",disableBadKeysCallback);};bindKeyShortcuts=function(){mousetrap.bindEventsTo($i("body").get(0));var keyBindingEscCloseTour=function(event){if(!$(".qtip-tour").is(":visible")){return;}$(document.body).qtip("hide");};mousetrap.bind("esc",keyBindingEscCloseTour);mousetrap.bindGlobal(["ctrl+s","command+s"],function(event){save();return false;});mousetrap.bind(["ctrl+p","command+p"],function(event){togglePanel();return false;});mousetrap.bind("ctrl+l",toggleLayoutSelector);if(typeof designEditor!="undefined"&&typeof designEditor.processElementCopy=="function"){mousetrap.bind(["ctrl+c","command+c"],designEditor.processElementCopy);mousetrap.bind(["ctrl+v","command+v"],designEditor.processElementPaste);mousetrap.bind("ctrl+e",function(){if(!boxOpen("live-css")){$("#open-live-css").trigger("click");}else{closeBox("live-css");}});mousetrap.bind("ctrl+i",toggleInspector);mousetrap.bind("tab",toggleDesignEditor);}};if(UpFront.touch){require(["deps/jquery.ui.touchpunch","deps/jquery.taphold"],function(){});}});